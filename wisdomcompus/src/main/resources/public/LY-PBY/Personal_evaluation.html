<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>个人评测</title>
	</head>
	<!-- BootStrap -->
		<script src="../../pby/js/jquery-1.9.1.min.js">	</script>
		
		<script src="../../pby/js/bootstrap.min.js" ></script>
		<link href="../../pby/css/pby-css/bootstrap.min.css" rel="stylesheet">
		<script src="../../pby/js/echarts.js"></script>
		<script src="../../pby/myjs/myecharts.js"></script>
		<link href="../../pby/myjs/pinghua.css" rel="stylesheet" />
		<link href="../../pby/myjs/chidao.css" rel="stylesheet"/>
		<link rel="stylesheet" type="text/css" href="../../pby/myjs/simple-calendar.css">
		<script type="text/javascript" src="../../pby/myjs/simple-calendar.js"></script>
		<script type="text/javascript" src="../../pby/myjs/vue.min.js"></script>
		<script type="text/javascript" src="../../pby/myjs/myvue.js"></script>
		<script type="text/javascript" src="../../pby/js/axios.min.js"></script>
		
		<!-- 新 Bootstrap 核心 CSS 文件 -->
		<!-- 添加样式 -->
		<!-- https://www.cnblogs.com/shiy/p/6650717.html -->
		<link href="http://apps.bdimg.com/libs/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
		<!-- ajax vue台套用法 -->
		<!-- vue-resource-1.5.1.js这个淘汰 -->
	<style type="text/css">
	
		
	</style>
	<body>
		<!--
            	固定的东西
        -->
        	<div class="evt_nav_right" style="visibility: visible;">
		        <a ytag="20054" href="#mk01" class="evt_link1" title="老乔经典">个人信息</a>
		        <a ytag="20055" href="#mk02" class="evt_link2" title="实时爆款">到勤情况</a>
		        <a ytag="20056" href="#mk03" class="evt_link3" title="热销推荐">考试情况</a>
		        <a ytag="20057" href="#mk04" class="evt_link4" title="主流配件">请假情况</a>
		        <a ytag="20058" href="#mk05" class="evt_link5" title="更多活动">返回头部</a>
		        <a ytag="20059" href="javascript:void(0);" class="evt_link0" title="返回顶部">
		            
		        </a>
		    </div>
		<!--
        	作者：3184497170@qq.com
        	时间：2018-08-24
        	描述：头部
        -->
		<header>
			<div class="a_head">
				<div class="a_icon">
					<span class="glyphicon glyphicon-list-alt"></span>
				</div>
				<div class="a_search">
					<input type="text" name="" placeholder="Search">
					<button class="btn-search">Search</button>
				</div>
			</div>
		</header>
		<!--
        	作者：3184497170@qq.com
        	时间：2018-08-24
        	描述：内容
        -->
        <section>
        	<div class="content-one" id="mk01">
        		<div class="content_left">
					<h3>个人信息</h3>  
					<div class="person" id="onePreson">
						<div class="person_one"><img v-bind:src="imgUrl"></div>
						<div class="person_two">
							<table>
								<tr>
									<td class="td-style">用户ID：</td>
									<td>{{user[0].userId}}</td>
								</tr>
								<tr>
									<td class="td-style">姓名：</td>
									<td>{{user[0].userName}}</td>
								</tr>
								<tr>
									<td class="td-style">性别：</td>
									<td>{{user[0].sex}}</td>
								</tr>
								<tr>
									<td class="td-style">用户类型：</td>
									<td>{{user[0].userType}}</td>
								</tr>
								<tr>
									<td class="td-style">联系方式：</td>
									<td>{{user[0].phone}}</td>
								</tr>
								<tr>
									<td class="td-style">地址：</td>
									<td>{{user[0].address}}</td>
								</tr>
							</table>
						</div>
						<!-- 这个方法无效 -->
						<!-- <div v-on:click='wan'>点击</div> -->
					</div>
        		</div>
        		<div class="content_right">
        			<!--
                    	作者：3184497170@qq.com
                    	时间：2018-08-29
                    	描述：打卡日历
                    -->
        			<div id="container" style="height:80%;width: 100%;">
        				
        			</div>
        			<div class="a-dateInfo">
        				<label>迟到：</label>
        				<div class="data-one" style="background-color: indianred;"></div>
        				<label>早退：</label>
        				<div class="data-one" style="background-color: deepskyblue;"></div>
        				<label>迟到并早退：</label>
        				<div class="data-one" style="background-color: yellow;"></div>
        				<label>请假：</label>
        				<div class="data-one" style="background-color: blanchedalmond;"></div>
        				<label>旷课：</label>
        				<div class="data-one" style="background-color: greenyellow;"></div>
        				<label>今日：</label>
        				<div class="data-one" style="background-color: #ffa500;"></div>
        			</div>
        			
        		</div>
        	</div>
        	

        	<div class="content-two" id="mk02">
        		<!-- 数据统计 -->
        		<!-- 显示数据 -->
        		
				<div id="statisticsTitle">
				   <h2>&nbsp;&nbsp;&nbsp;考勤情况</h2>
				   <ul>
				       <!-- 年份 -->
				       <li >
				           <label class="input-txt-warp">
				                   <span>年&nbsp;份</span>
				                   <span class="input-select" style="width:100px">
				                       <select>
				                           <option value ="1">2017年</option>
				                           <option value ="2">2018年</option>
				                       </select>
				                   </span>
				            </label>
				       </li>
				       <!-- 季度 -->
				       <li>
				           <label class="input-txt-warp">
				                   <span>季&nbsp;度</span>
				                   <span class="input-select" style="width:100px">
				                       <select id="quarterOption">
				                           <option value="0">全部</option>
				                           <option value="1">第一季度</option>
				                           <option value="2">第二季度</option>
				                           <option value="3">第三季度</option>
				                           <option value="4">第四季度</option>
				                       </select>
				                   </span>
				               </label>
				       </li>
				       <!-- 月份 -->
				       <li>
				           <label class="input-txt-warp">
				                   <span>月&nbsp;份</span>
				                   <span class="input-select" style="width:100px">
				                       <select>
				                           <option value="0">全部</option>
				                           <option value ="1">1月</option>
				                           <option value ="2">2月</option>
				                           <option value ="3">3月</option>
				                           <option value ="4">4月</option>
				                           <option value ="5">5月</option>
				                           <option value ="6">6月</option>
				                           <option value ="7">7月</option>
				                           <option value ="8">8月</option>
				                           <option value ="9">9月</option>
				                           <option value ="10">10月</option>
				                           <option value ="11">11月</option>
				                           <option value ="12">12月</option>
				                       </select>
				                   </span>
				               </label>
				       </li>
				
				       <!-- 查询按钮 -->
				       <div>
				           <a v-bind:href="#" v-on:click= class="easyui-linkbutton c3" data-options="iconCls:'icon-search'" style="width: 60px;">查询</a>
				       </div>
				   </ul>
				</div>
				
				
				<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
				<div id="graphWrap">
				    <div class="clearfix">
				        <div id="pies" style="width: 280px;height:380px;"></div>
				        <div id="lines" style="width: 600px;height:320px"></div>
				    </div>
				    <div id="grapBars">
				        <div id="bars" style="width: 1000px;height:350px;"></div>
				    </div>
				</div>

        	</div>
        	
        	<!-- 迟到 -->
        	<div class="content-three">
        		<div style="float:right;">
       				<button type="button" class="btn btn-warning" onclick="isshow()">折线图</button>
        		</div>
        		<div style="clear:both;"></div>
        		<div id="mk03">
        			<div id="kaoshitongji"  style="width: 100%;height:350px;">考试拥挤</div>
        		</div>
        	</div>
        	
        	<div class="content-four" id="mk04">
        		<p>12312</p>
        		<div>123123<input value="折线图"></div>
        		<div ></div>
        	</div>
        	<div class="content-four" id="mk05">
        		<div class="fout_left"></div>
        		<div class="fout_center"></div>
        		<div class="fout_right"></div>
        	</div>
        </section>
        <!--
        	作者：3184497170@qq.com
        	时间：2018-08-24
        	描述：尾部
        -->
        <footer>
        	<div class="foot">Copyright © 2018.Company name All rights reserved</div>
        </footer>
        
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<!-- <script src="js/jquery-1.9.1.min.js" ></script> -->
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<!-- <script src="js/bootstrap.min.js" ></script> -->
		
		<script>
			
			// 基于准备好的dom，初始化echarts实例
			var myChartPie = echarts.init(document.getElementById('pies'));
			var myChartLine = echarts.init(document.getElementById('lines')); //拆线图
			var myChartBar = echarts.init(document.getElementById('bars')) //柱状图
			//考试统计 
			var kaoshitongji = echarts.init(document.getElementById('kaoshitongji')); //拆线图
			//日历
			//
			
			var myCalendar = new SimpleCalendar("#container");
			//迟到信息显示
			//用ajax去查询一个打卡状态的集合
			//用 vue循环渲染 
			//获取节点进行
			//更改宽高
			myCalendar.updateSize('100%', '80%');
			//添加日期
			myCalendar.addMark("2018-8-20","迟到");
			myCalendar.addMark("2018-8-27","早退");
			myCalendar.addMark("2018-8-26","旷课");
			myCalendar.addMark("2018-8-24","迟到并早退");
			myCalendar.addMark("2018-9-25","请假");
			myCalendar.addMark("2018-7-20","迟到");
			myCalendar.addMark("2018-7-27","早退");
			myCalendar.addMark("2018-7-26","旷课");
			myCalendar.addMark("2018-7-24","迟到并早退");
			myCalendar.addMark("2018-7-25","请假");
			myCalendar.addMark("2018-6-20","迟到");
			myCalendar.addMark("2018-6-27","早退");
			myCalendar.addMark("2018-6-26","旷课");
			myCalendar.addMark("2018-6-24","迟到并早退");
			myCalendar.addMark("2018-6-25","请假");
			
			//myCalendar.showHoliday(false);
			//获取打卡日常的日期
//			//第一种在前台判断
//			var dars = document.getElementsByClassName("sc-item sc-mark");
//			$.each(dars, function() {
//				var t = this.getAttribute("title");
//				if(t == "迟到"){
//					dars[0].setAttribute("background-color","red");
//					$(this).css("background-color","indianred");
//					//设置被选元素的属性值
//				}else if(t == "早退"){
//					$(this).css("background-color","deepskyblue");
//					
//				}else if(t == "迟到并早退"){
//					$(this).css("background-color","yellow");
//				}else if(t == "请假"){
//					$(this).css("background-color","blanchedalmond");
//				}else if(t == "旷课"){
//					$(this).css("background-color","greenyellow");
//				}
//			});
//			new Vue({
//				el:"#mark-one",
//				data:{
//					dars:[
//						
//					]
//				}
//			})
			//饼状图
			myChartPie.setOption(optionType(["pies", "当月考勤", ["迟到", "早退", "旷课","迟到早退","正常"], "考勤", [{
			      "value": "5",
			      "name": "迟到"
			  }, {
			      "value": "3",
			      "name": "早退"
			  }, {
			      "value": "18",
			      "name": "旷课"
			  }, {
			      "value": "13",
			      "name": "迟到早退"
			  }, {
			      "value": "9",
			      "name": "正常"
			  }]], 1));
			  //调用  折线图  指定的配置项和数据显示图表
			
			myChartLine.setOption(optionType(["",
			    "",
			    ['2017年01月', '2017年02月', '2017年03月', '2017年04月', '2017年05月', '2017年06月', '2017年07月',
			        '2017年08月', '2017年09月', '2017年10月', '2017年11月', '2017年12月'
			    ],
			    [1, 23, 23, 56, 76, 230, 210, 82, 63, 120, 56, 78]
			], 2))
			
			kaoshitongji.setOption(optionType(["",
			    "",
			    ['2017年01月', '2017年02月', '2017年03月', '2017年04月', '2017年05月', '2017年06月', '2017年07月',
			        '2017年08月', '2017年09月', '2017年10月', '2017年11月', '2017年12月'
			    ],
			    [1, 23, 23, 56, 76, 230, 210, 82, 63, 120, 56, 78]
			], 2))
			//
			/* myChartBar.setOption(optionType(["",
			      "管辖内心血管人数", ['道里区1', '南岗区', '道里区14', '道里区1', '道里区5', '道里', '道里7月', '道里8月',
			          '道里9月', '道里10月', '道里11月', '道里12月', '道里区10', '道里区10', '道里区50',
			      ],
			      [444, 7878, 7570, 253.2, 2455.6, 765.7, 135.6, 16244.2, 342.6, 204.0, 6.4, 355.3],
			      [2444.6, 5444.9, 9555.0, 2556.4, 2558.7, 7550.7, 175.6, 182.2, 484.7, 184.8, 655.0,
			          2474.3,
			          655.0, 2474.3, 5666
			      ],

  			], 3))
  			*/
  			 
			
			
			

			  //加载用户
			  var loaduser = new Vue({
		                el:'#onePreson',
		                //一般的是data:
		                data(){
							 return {
								 //https://blog.csdn.net/cyyjm/article/details/80278799
								 //可以放多个
			                    user:[
			                        {
			                        	userid:"10011"
			                        }
			                    ]
							 }
		                },
		                computed: {
		                    imgUrl(){
		                        return '../../pby/'+ this.user[0].img;
		                    },
		                },
		                methods:{
		                	//post请求
		                    sendPost(){
		                    	console.info(this.user[0].userid)
		                    	//获取当前vue
		                    	var self = this;
			                    axios.post('/user/selectStudentexamAll', {
			                        //请求数据
			                        userid:this.user[0].userid
			                      })
			                      .then(function (response) {
			                    	//console.info(self.user)
			                    	//alert(JSON.stringify(response.data))
			                    	//AJAX返回的数据
			                    	//console.info(response.data)
			                    	//赋值  因为vue是一个动态的前端框架
			                    	//动态是指数据改变所有数据全部改变
			                    	self.user=response.data;
			                   		//查询内容 迟到数据
									//alert(JSON.stringify(self.user))
			                    	//response是什么东西
			                        //console.log(response);
			                      })
			                      .catch(function (response) {
			                        console.log(response);
			                      });
		                    },
		                }
		            });
			  
			//考试 
			 /*  var kaoshitongji = new Vue({
				  el:"",
				  data(){
					  return{
							  userid:loaduser.user.userid,
							  kaoshi:{}
					  }
				  },
				  metheds:{
					  
				  }
			  }) */
			   
			
			 function showBar(){
				option = {
				    legend: {},
				    tooltip: {},
				    dataset: {
				        source: [
				            ['product', '2015', '2016', '2017'],
				            ['Matcha Latte', 43.3, 85.8, 93.7],
				            ['Milk Tea', 83.1, 73.4, 55.1],
				            ['Cheese Cocoa', 86.4, 65.2, 82.5],
				            ['Walnut Brownie', 72.4, 53.9, 39.1]
				        ]
				    },
				    xAxis: {type: 'category'},
				    yAxis: {},
				    // Declare several bar series, each will be mapped
				    // to a column of dataset.source by default.
				    series: [
				        {type: 'bar'},
				        {type: 'bar'},
				        {type: 'bar'}
				    ]
				};
			} 
			
			//迟到曲线垃圾方法
			/* var isshownumb = 0;
			//显示迟到折线图
			function isshow(){
				
				if(isshownumb){
					$("#kaoshitongji").show();
					isshownumb = 0;
				}else{
					$("#kaoshitongji").hide();
					isshownumb = 1;
				}
			} */
			
			//牛逼方法
			var mm = new Vue({
				el:"#mk03",
				data(){
					return {
						ok : true
					}
				},
				methods:{
					
				}
			})
			
			  //显示个人信息
			 
         //此方法不适合3.1.1
			 //平滑效果
			 $(function(){
					$('a[href*=#],area[href*=#]').click(function() {
		                console.log(this.pathname)
		                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
		                    var $target = $(this.hash);
		                    $target = $target.length && $target || $('[name=' + this.hash.slice(1) + ']');
		                    if ($target.length) {
		                        var targetOffset = $target.offset().top;
		                        $('html,body').animate({
		                                    scrollTop: targetOffset
		                                },
		                                1000);
		                        return false;
		                    }
		                }
		            });
					//加载用户信息
					loaduser.sendPost();
					
			})
			  
		</script>
	</body>
</html>
